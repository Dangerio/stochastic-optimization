# Применение генетического алгоритма для нахождения разбиения множетсва на два подмножетсва с минимальным модулем разности сумм элементов 
В частности, будет решаться следующая задача - имеется множество $A = [1, 2, \dots, n]$, которое необходимо разбить на два непересекающихся множества $K_1$ и $K_2$ так, чтобы 

$$H(K_1, K_2) =  \left|\sum_{a_k \in K_1}a_k - \sum_{a_m \in K_2}a_m \right|$$

была минимальна. Причем $K_1 \cup K_2 = A, K_1 \cap K_2 = \varnothing$.

Данная задача сводится к минимизации следующей функции 

$$ f(x) = \left|\sum_{k=1}^{n}k \cdot \mathbb{I}(x_k = 1)  - \sum_{k=1}^{n}k \cdot \mathbb{I}(x_k = 0) \right| = \left|\sum_{k=1}^{n}k \cdot (\mathbb{I}(x_k = 1)  -\mathbb{I}(x_k = 0))\right|
$$

Описание генетического алгоритма:
1) Генерация популяции генов случайным образом.
2) Подсчет функции приспособленности гена $fit(x) = \frac{1}{1 + f(x)}$ и сортировка популяции по убыванию значений приспособленности.
3) Замена каждой особи с номером $m \in [2, M - M_c]$ на результат ее скрещивания со случайной особью в пуле. 

    Скрещивание двух генов $x, y \in \mathbb{R}^n$ подразумевает создание нового гена $z$, где каждая хромосома $z_i$ будет взята случайно из множества $\{x_i, y_i\}$, причем $\mathbb{P}(z_i = x_i) = \frac{fit(x)}{fit(x) + fit(y)}$.

4) Замена $M_c$ наименее приспособленных особей случайно сгенерированными генами.
5) Возврат к шагу 2, если количество итераций не достигло $L$.

Для реализации данного алгоритма были использованы следующие функции:

* ```gen_alg_bern(f, dim, M, M_c, L)``` - функция, реализующая минимизацию функции $f(x)$ с помощью генетического алгоритма.

    * **Вход**: 
      * $f: \mathbb{R}^n \rightarrow \mathbb{R}$ - вышеописанная функция. 
      * $dim$ - размер множества $A$
      * $M$ - размер популяции.
      * $M_c$ - количество "убиваемых" особей на каждой итерации алгоритма.
      * $L$ - максимальное количество итераций алгоритма.

    * **Выход**:  
      * $y$ - найденное минимальное значение функции $f(x)$.
      * $x$ - характеристический вектор подмножества $K_1$, задающий оптимальное разбиение.
* ```gen_alg_test_2(X) ``` - вышеописанная функция $f(x)$.
    * **Вход**: 
      * $X$ - матрица размера $m \times n$, где $m$ - количество точек, в которых требуется посчитать $f(x)$. 
    * **Выход**:  
      * $y$ - вектор значений функции $f(x)$.

Пример использования:
```
>> [y_min, ~] = gen_alg_bern(@gen_alg_test_2, 100, 1000, 300, 100)
	 	
y_min =

0

>> [y_min, ~] = gen_alg_bern(@gen_alg_test_2, 1000, 1000, 300, 100)

y_min =

0


>> [y_min, ~] = gen_alg_bern(@gen_alg_test_2, 10000, 1000, 300, 100)

y_min =

22
```